<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠—Å—Ç–∏–º–µ–π—Ç–æ—Ä - –Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ü–µ–Ω–∫–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–¥–∞—á</title>
    
    <!-- HTMX –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
    <script src="https://unpkg.com/htmx.org@1.9.9"></script>
    
    <!-- Alpine.js –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
    <script defer src="https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js"></script>
    
    <!-- Tailwind CSS –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        .result-highlight {
            background-color: rgba(252, 211, 77, 0.3);
            transition: background-color 0.5s ease;
        }
        
        .result-highlight-flash {
            background-color: rgba(252, 211, 77, 0.7);
        }
        
        [x-cloak] {
            display: none !important;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container mx-auto px-4 py-8" x-data="estimationApp()">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-indigo-700">–≠—Å—Ç–∏–º–µ–π—Ç–æ—Ä</h1>
            <p class="text-xl text-gray-600 mt-2">–ù–∞—É—á–Ω–æ-–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π* –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ü–µ–Ω–∫–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–¥–∞—á</p>
            <p class="text-sm text-gray-500 mt-1">* —Å –≤—ã—Å–æ–∫–æ–π –¥–æ–ª–µ–π –∏—Ä–æ–Ω–∏–∏</p>
        </header>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ -->
        <div class="bg-white rounded-lg shadow-lg p-6 max-w-3xl mx-auto">
            <!-- –í–≤–æ–¥ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ -->
            <div class="mb-8">
                <h2 class="text-2xl font-semibold mb-4">–í–∞—à–∞ –∏—Å—Ö–æ–¥–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏</h2>
                
                <div class="flex flex-wrap items-end gap-4">
                    <div class="w-full md:w-1/3">
                        <label for="initial-estimate" class="block text-gray-700 mb-2">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
                        <input 
                            type="number" 
                            id="initial-estimate" 
                            x-model="initialEstimate" 
                            @input="updateResults()"
                            min="1" 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                    </div>
                    
                    <div class="w-full md:w-1/3">
                        <label for="time-unit" class="block text-gray-700 mb-2">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</label>
                        <select 
                            id="time-unit" 
                            x-model="timeUnit" 
                            @change="updateResults()"
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                        >
                            <option value="hours">–ß–∞—Å—ã</option>
                            <option value="days">–î–Ω–∏</option>
                            <option value="weeks">–ù–µ–¥–µ–ª–∏</option>
                            <option value="months">–ú–µ—Å—è—Ü—ã</option>
                            <option value="quarters">–ö–≤–∞—Ä—Ç–∞–ª—ã</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- –ë–ª–æ–∫ –¥–ª—è –º–µ—Ç–æ–¥–∞ PERT -->
            <div x-show="selectedMethod === 'pert'" class="mb-8 border-t pt-6">
                <h3 class="text-xl font-semibold mb-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è PERT</h3>
                
                <div class="flex flex-wrap gap-4">
                    <div class="w-full md:w-1/3">
                        <label class="block text-gray-700 mb-2">–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞</label>
                        <input 
                            type="number" 
                            x-model="pertOptimistic" 
                            @input="updateResults()"
                            min="1" 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg"
                        >
                    </div>
                    
                    <div class="w-full md:w-1/3">
                        <label class="block text-gray-700 mb-2">–ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è</label>
                        <input 
                            type="number" 
                            x-model="pertMostLikely" 
                            @input="updateResults()"
                            min="1" 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg"
                        >
                    </div>
                    
                    <div class="w-full md:w-1/3">
                        <label class="block text-gray-700 mb-2">–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞</label>
                        <input 
                            type="number" 
                            x-model="pertPessimistic" 
                            @input="updateResults()"
                            min="1" 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg"
                        >
                    </div>
                </div>
            </div>
            
            <!-- –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –æ—Ü–µ–Ω–∫–∏ -->
            <div class="mb-8">
                <h2 class="text-2xl font-semibold mb-4">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –æ—Ü–µ–Ω–∫–∏</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button 
                        @click="selectMethod('pi')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'pi', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'pi'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ú–µ—Ç–æ–¥ œÄ (—É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 3.14)
                    </button>
                    
                    <button 
                        @click="selectMethod('plus2')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'plus2', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'plus2'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ú–µ—Ç–æ–¥ "+2 –µ–¥–∏–Ω–∏—Ü—ã"
                    </button>
                    
                    <button 
                        @click="selectMethod('pert')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'pert', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'pert'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ú–µ—Ç–æ–¥ PERT
                    </button>
                    
                    <button 
                        @click="selectMethod('last10')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'last10', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'last10'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ó–∞–∫–æ–Ω "–ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10%"
                    </button>
                    
                    <button 
                        @click="selectMethod('hofstadter')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'hofstadter', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'hofstadter'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ó–∞–∫–æ–Ω –•–æ—Ñ—à—Ç–∞–¥—Ç–µ—Ä–∞
                    </button>
                    
                    <button 
                        @click="selectMethod('combined')" 
                        :class="{'bg-indigo-600 text-white': selectedMethod === 'combined', 'bg-gray-200 text-gray-800 hover:bg-gray-300': selectedMethod !== 'combined'}"
                        class="px-4 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                        –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (œÄ + 2)
                    </button>
                </div>
            </div>
            
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏ -->
            <div class="mb-8 border-t pt-6">
                <h2 class="text-2xl font-semibold mb-4">–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ü–µ–Ω–∫–∏</h2>
                
                <div 
                    class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 result-highlight"
                    x-ref="resultContainer"
                >
                    <div class="text-center">
                        <span class="text-3xl font-bold text-indigo-700" x-text="formatResult(result)"></span>
                        <span class="text-xl text-gray-600" x-text="formatUnit(result)"></span>
                    </div>
                    
                    <div class="mt-4 text-gray-600" x-html="methodDescription"></div>
                    
                    <div class="mt-6 flex justify-center">
                        <button 
                            @click="copyShareLink()" 
                            class="px-4 py-2 bg-indigo-600 text-white rounded-lg flex items-center hover:bg-indigo-700 transition-colors"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                            </svg>
                            –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É
                        </button>
                    </div>
                    <div class="text-center mt-2 text-sm text-gray-500" x-show="shareUrl" x-cloak>
                        –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                    </div>
                </div>
            </div>
            
            <!-- –Æ–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ —Ü–∏—Ç–∞—Ç -->
            <div class="border-t pt-6">
                <h3 class="text-xl font-semibold mb-4">–ú—É–¥—Ä–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞</h3>
                
                <div class="italic text-gray-600 bg-gray-50 p-4 rounded-lg">
                    <p x-text="getRandomQuote()"></p>
                </div>
            </div>
        </div>
        
        <!-- –ü–æ–¥–≤–∞–ª -->
        <footer class="mt-12 text-center text-gray-500 text-sm">
            <p>–≠—Å—Ç–∏–º–µ–π—Ç–æ—Ä ¬© 2025 | –°–¥–µ–ª–∞–Ω–æ —Å üíª –∏ ü§¶‚Äç‚ôÇÔ∏è | –ù–∞—É—á–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–µ –∏–º–µ–µ—Ç</p>
        </footer>
    </div>

    <script>
        function estimationApp() {
            return {
                // –°–æ—Å—Ç–æ—è–Ω–∏–µ
                initialEstimate: 5,
                timeUnit: 'days',
                selectedMethod: 'pi',
                result: 0,
                methodDescription: '',
                pertOptimistic: 3,
                pertMostLikely: 5,
                pertPessimistic: 10,
                shareUrl: '',
                quotes: [
                    "–ü–µ—Ä–≤—ã–µ 90% –∫–æ–¥–∞ —Ç—Ä–µ–±—É—é—Ç 10% –≤—Ä–µ–º–µ–Ω–∏. –û—Å—Ç–∞–≤—à–∏–µ—Å—è 10% –∫–æ–¥–∞ —Ç—Ä–µ–±—É—é—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 90% –≤—Ä–µ–º–µ–Ω–∏.",
                    "–õ—é–±–∞—è –∑–∞–¥–∞—á–∞ –∑–∞–π–º–µ—Ç –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –≤—ã –¥—É–º–∞–µ—Ç–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã —É—á—Ç–µ—Ç–µ —ç—Ç–æ—Ç –∑–∞–∫–æ–Ω.",
                    "–Ø –Ω–µ —É–º–µ—é –æ—Ü–µ–Ω–∏–≤–∞—Ç—å, —è –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç. ‚Äî –ö–∞–∂–¥—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –Ω–∞ –æ—Ü–µ–Ω–∫–µ –∑–∞–¥–∞—á",
                    "–ï—Å–ª–∏ –±—ã –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –±—ã–ª–∞ —Ç–æ—á–Ω–æ–π –Ω–∞—É–∫–æ–π, –º—ã –±—ã —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç.",
                    "–û–ø—Ç–∏–º–∏—Å—Ç –≤–µ—Ä–∏—Ç, —á—Ç–æ –º—ã –∂–∏–≤–µ–º –≤ –ª—É—á—à–µ–º –∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –º–∏—Ä–æ–≤. –ü–µ—Å—Å–∏–º–∏—Å—Ç –±–æ–∏—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–¥–∞. –ü—Ä–æ–¥–∂–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ä–æ–∫–∏.",
                    "–ò–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ü–µ–Ω–∫–∏. –û–Ω —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω.",
                    "–ó–∞–∫–æ–Ω –•–æ—Ñ—à—Ç–∞–¥—Ç–µ—Ä–∞: –í—Å—ë –≤—Å–µ–≥–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã —É—á–∏—Ç—ã–≤–∞–µ—Ç–µ –∑–∞–∫–æ–Ω –•–æ—Ñ—à—Ç–∞–¥—Ç–µ—Ä–∞.",
                    "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ü–µ–Ω–∏–ª –∑–∞–¥–∞—á—É –≤ 2 —á–∞—Å–∞. –î–≤–∞ –¥–Ω—è —Å–ø—É—Å—Ç—è: '–ü–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª, –æ—Å—Ç–∞–ª–æ—Å—å –µ—â–µ —á—É—Ç—å-—á—É—Ç—å...'",
                    "–ï—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≥–æ–≤–æ—Ä–∏—Ç '–æ—Å—Ç–∞–ª–æ—Å—å 5 –º–∏–Ω—É—Ç', –∏–¥–∏—Ç–µ –æ–±–µ–¥–∞—Ç—å.",
                    "Q: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É, —á—Ç–æ–±—ã –∑–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–¥–∞—á—É? A: –ï—â–µ 5 –º–∏–Ω—É—Ç, —è –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª!"
                ],
                
                // –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                init() {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                    this.loadFromUrl();
                    
                    this.updateResults();
                    
                    // –£—Å—Ç–∞–Ω–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏—è PERT –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
                    this.updatePertDefaults();
                },
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
                loadFromUrl() {
                    const urlParams = new URLSearchParams(window.location.search);
                    
                    // –ü–∞—Ä—Å–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
                    if (urlParams.has('estimate')) {
                        this.initialEstimate = parseFloat(urlParams.get('estimate')) || 5;
                    }
                    
                    if (urlParams.has('unit')) {
                        const unit = urlParams.get('unit');
                        if (['hours', 'days', 'weeks', 'months', 'quarters'].includes(unit)) {
                            this.timeUnit = unit;
                        }
                    }
                    
                    if (urlParams.has('method')) {
                        const method = urlParams.get('method');
                        if (['pi', 'plus2', 'pert', 'last10', 'hofstadter', 'combined'].includes(method)) {
                            this.selectedMethod = method;
                        }
                    }
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è PERT
                    if (this.selectedMethod === 'pert') {
                        if (urlParams.has('o')) {
                            this.pertOptimistic = parseFloat(urlParams.get('o')) || 3;
                        }
                        if (urlParams.has('m')) {
                            this.pertMostLikely = parseFloat(urlParams.get('m')) || 5;
                        }
                        if (urlParams.has('p')) {
                            this.pertPessimistic = parseFloat(urlParams.get('p')) || 10;
                        }
                    }
                },
                
                // –ú–µ—Ç–æ–¥—ã
                selectMethod(method) {
                    this.selectedMethod = method;
                    
                    if (method === 'pert') {
                        this.updatePertDefaults();
                    }
                    
                    this.updateResults();
                    this.flashResult();
                },
                
                updatePertDefaults() {
                    // –£—Å—Ç–∞–Ω–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è PERT –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
                    this.pertMostLikely = parseInt(this.initialEstimate);
                    this.pertOptimistic = Math.max(1, Math.floor(this.initialEstimate * 0.6));
                    this.pertPessimistic = Math.ceil(this.initialEstimate * 2);
                },
                
                updateResults() {
                    let estimate = parseFloat(this.initialEstimate);
                    
                    switch(this.selectedMethod) {
                        case 'pi':
                            this.result = estimate * Math.PI;
                            this.methodDescription = `
                                <p>–ú–µ—Ç–æ–¥ œÄ: —É–º–Ω–æ–∂–∞–µ–º –≤–∞—à—É –æ—Ü–µ–Ω–∫—É –Ω–∞ —á–∏—Å–ª–æ œÄ (3.14159...).</p>
                                <p class="mt-2">–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —É—á–∏—Ç—ã–≤–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é –Ω–µ–¥–æ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑.</p>
                            `;
                            break;
                            
                        case 'plus2':
                            this.result = estimate + 2;
                            this.methodDescription = `
                                <p>–ú–µ—Ç–æ–¥ "+2 –µ–¥–∏–Ω–∏—Ü—ã": –¥–æ–±–∞–≤–ª—è–µ–º 2 –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –∫ –≤–∞—à–µ–π –æ—Ü–µ–Ω–∫–µ.</p>
                                <p class="mt-2">–ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞–¥–∞—á —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.</p>
                            `;
                            break;
                            
                        case 'pert':
                            let o = parseFloat(this.pertOptimistic);
                            let m = parseFloat(this.pertMostLikely);
                            let p = parseFloat(this.pertPessimistic);
                            this.result = (o + 4*m + p) / 6;
                            
                            // –†–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
                            let sd = (p - o) / 6;
                            let range68 = `${this.formatNumber(this.result - sd)} - ${this.formatNumber(this.result + sd)}`;
                            let range95 = `${this.formatNumber(this.result - 2*sd)} - ${this.formatNumber(this.result + 2*sd)}`;
                            
                            this.methodDescription = `
                                <p>–ú–µ—Ç–æ–¥ PERT: –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ —Ç—Ä–µ—Ö –æ—Ü–µ–Ω–æ–∫: –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π, –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–π –∏ –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–æ–π.</p>
                                <p class="mt-2">–§–æ—Ä–º—É–ª–∞: (O + 4M + P) / 6 = (${o} + 4√ó${m} + ${p}) / 6 = ${this.formatNumber(this.result)}</p>
                                <p class="mt-2">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: ${this.formatNumber(sd)}</p>
                                <p class="mt-2">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:</p>
                                <ul class="list-disc pl-5 mt-1">
                                    <li>–° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 68%: ${range68} ${this.timeUnit}</li>
                                    <li>–° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 95%: ${range95} ${this.timeUnit}</li>
                                </ul>
                            `;
                            break;
                            
                        case 'last10':
                            this.result = estimate + (estimate * 0.9);
                            this.methodDescription = `
                                <p>–ó–∞–∫–æ–Ω "–ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10%": –ø–µ—Ä–≤—ã–µ 90% —Ä–∞–±–æ—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç 90% –≤—Ä–µ–º–µ–Ω–∏, –æ—Å—Ç–∞–ª—å–Ω—ã–µ 10% —Ä–∞–±–æ—Ç—ã –∑–∞–Ω–∏–º–∞—é—Ç –µ—â–µ 90% –≤—Ä–µ–º–µ–Ω–∏.</p>
                                <p class="mt-2">–ü–æ —ç—Ç–æ–º—É –º–µ—Ç–æ–¥—É –∫ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –µ—â–µ 90% –æ—Ç –Ω–µ—ë –¥–ª—è —É—á–µ—Ç–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏.</p>
                                <p class="mt-2">–†–∞—Å—á–µ—Ç: ${estimate} + (${estimate} √ó 0.9) = ${this.formatNumber(this.result)}</p>
                            `;
                            break;
                            
                        case 'hofstadter':
                            this.result = estimate * 2;
                            this.methodDescription = `
                                <p>–ó–∞–∫–æ–Ω –•–æ—Ñ—à—Ç–∞–¥—Ç–µ—Ä–∞: "–í—Å–µ –≤—Å–µ–≥–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã —É—á–∏—Ç—ã–≤–∞–µ—Ç–µ –∑–∞–∫–æ–Ω –•–æ—Ñ—à—Ç–∞–¥—Ç–µ—Ä–∞".</p>
                                <p class="mt-2">–£–¥–≤–∞–∏–≤–∞–µ–º –æ—Ü–µ–Ω–∫—É –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–ª—É—á—à–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å—Å—è, —á–µ–º –Ω–µ –¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤ —Å—Ä–æ–∫".</p>
                            `;
                            break;
                            
                        case 'combined':
                            this.result = (estimate * Math.PI) + 2;
                            this.methodDescription = `
                                <p>–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥: —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ œÄ, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ–º 2 –µ–¥–∏–Ω–∏—Ü—ã.</p>
                                <p class="mt-2">–î–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ—Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç—å—Å—è –ø–æ-–º–∞–∫—Å–∏–º—É–º—É. –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é!</p>
                                <p class="mt-2">–†–∞—Å—á–µ—Ç: (${estimate} √ó œÄ) + 2 = ${this.formatNumber(estimate * Math.PI)} + 2 = ${this.formatNumber(this.result)}</p>
                            `;
                            break;
                    }
                },
                
                formatResult(value) {
                    return this.formatNumber(value);
                },
                
                formatNumber(value) {
                    // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ –æ–¥–Ω–æ–≥–æ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ –∑–Ω–∞–∫–∞, –µ—Å–ª–∏ —á–∏—Å–ª–æ –Ω–µ —Ü–µ–ª–æ–µ
                    return Number.isInteger(value) ? value : parseFloat(value.toFixed(1));
                },
                
                formatUnit(value) {
                    // –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
                    let unit = this.timeUnit;
                    let formattedValue = this.formatNumber(value);
                    let lastDigit = formattedValue.toString().split('.')[0].slice(-1);
                    
                    if (unit === 'hours') {
                        if (lastDigit == 1 && formattedValue != 11) return '—á–∞—Å';
                        else if ((lastDigit >= 2 && lastDigit <= 4) && (formattedValue < 10 || formattedValue > 20)) return '—á–∞—Å–∞';
                        else return '—á–∞—Å–æ–≤';
                    } else if (unit === 'days') {
                        if (lastDigit == 1 && formattedValue != 11) return '–¥–µ–Ω—å';
                        else if ((lastDigit >= 2 && lastDigit <= 4) && (formattedValue < 10 || formattedValue > 20)) return '–¥–Ω—è';
                        else return '–¥–Ω–µ–π';
                    } else if (unit === 'weeks') {
                        if (lastDigit == 1 && formattedValue != 11) return '–Ω–µ–¥–µ–ª—è';
                        else if ((lastDigit >= 2 && lastDigit <= 4) && (formattedValue < 10 || formattedValue > 20)) return '–Ω–µ–¥–µ–ª–∏';
                        else return '–Ω–µ–¥–µ–ª—å';
                    } else if (unit === 'months') {
                        if (lastDigit == 1 && formattedValue != 11) return '–º–µ—Å—è—Ü';
                        else if ((lastDigit >= 2 && lastDigit <= 4) && (formattedValue < 10 || formattedValue > 20)) return '–º–µ—Å—è—Ü–∞';
                        else return '–º–µ—Å—è—Ü–µ–≤';
                    } else if (unit === 'quarters') {
                        if (lastDigit == 1 && formattedValue != 11) return '–∫–≤–∞—Ä—Ç–∞–ª';
                        else if ((lastDigit >= 2 && lastDigit <= 4) && (formattedValue < 10 || formattedValue > 20)) return '–∫–≤–∞—Ä—Ç–∞–ª–∞';
                        else return '–∫–≤–∞—Ä—Ç–∞–ª–æ–≤';
                    }
                    
                    return unit;
                },
                
                flashResult() {
                    // –ê–Ω–∏–º–∞—Ü–∏—è –º–∏–≥–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                    const el = this.$refs.resultContainer;
                    el.classList.add('result-highlight-flash');
                    
                    setTimeout(() => {
                        el.classList.remove('result-highlight-flash');
                    }, 300);
                },
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ä–∞—Å—à–∞—Ä–∏–≤–∞–Ω–∏—è
                copyShareLink() {
                    // –°–æ–∑–¥–∞–µ–º URL —Å —Ç–µ–∫—É—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                    const url = new URL(window.location.href.split('?')[0]);
                    url.searchParams.append('estimate', this.initialEstimate);
                    url.searchParams.append('unit', this.timeUnit);
                    url.searchParams.append('method', this.selectedMethod);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è PERT, –µ—Å–ª–∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–±—Ä–∞–Ω
                    if (this.selectedMethod === 'pert') {
                        url.searchParams.append('o', this.pertOptimistic);
                        url.searchParams.append('m', this.pertMostLikely);
                        url.searchParams.append('p', this.pertPessimistic);
                    }
                    
                    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    this.shareUrl = url.toString();
                    
                    // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                    navigator.clipboard.writeText(this.shareUrl)
                        .then(() => {
                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã
                            setTimeout(() => {
                                this.shareUrl = '';
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('Could not copy text: ', err);
                            // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
                            alert(`–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É —Å–∞–º–∏: ${this.shareUrl}`);
                        });
                },
                
                getRandomQuote() {
                    return this.quotes[Math.floor(Math.random() * this.quotes.length)];
                }
            }
        }
    </script>
</body>
</html>
